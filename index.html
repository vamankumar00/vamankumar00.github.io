<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UHF Trading Platform - Complete PSX API Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
            background: #0B0F1C;
            color: #E5E7EB;
            line-height: 1.5;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1E2329;
        }
        ::-webkit-scrollbar-thumb {
            background: #474D57;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #5E6673;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #1E2329 0%, #2B3139 100%);
            padding: 30px;
            border-radius: 16px;
            margin-bottom: 20px;
            border: 1px solid #2B3139;
            box-shadow: 0 8px 24px rgba(0,0,0,0.2);
            position: relative;
            z-index: 10;
        }

        .header h1 {
            font-size: 36px;
            font-weight: 700;
            color: #F0B90B;
            margin-bottom: 10px;
        }

        .header .subtitle {
            font-size: 18px;
            color: #A6B0C2;
            margin-bottom: 15px;
        }

        .header .badge {
            background: #F0B90B;
            color: #0B0F1C;
            padding: 8px 16px;
            border-radius: 30px;
            font-weight: 600;
            font-size: 14px;
            display: inline-block;
        }

        /* WebSocket Status */
        .ws-status {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .ws-indicator {
            display: flex;
            align-items: center;
            gap: 12px;
            background: #2B3139;
            padding: 10px 20px;
            border-radius: 40px;
        }

        .ws-led {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #F6465D;
            transition: all 0.3s;
        }

        .ws-led.connected {
            background: #0ECB81;
            box-shadow: 0 0 15px #0ECB81;
            animation: pulse 2s infinite;
        }

        .ws-led.connecting {
            background: #F0B90B;
            animation: blink 1s infinite;
        }

        .ws-info {
            color: #F0B90B;
            font-size: 14px;
            font-weight: 500;
        }

        .ws-stats {
            display: flex;
            gap: 30px;
            margin-left: auto;
            background: #2B3139;
            padding: 10px 20px;
            border-radius: 40px;
        }

        .ws-stat {
            text-align: center;
        }

        .ws-stat-label {
            color: #A6B0C2;
            font-size: 11px;
            text-transform: uppercase;
        }

        .ws-stat-value {
            color: #F0B90B;
            font-weight: 600;
            font-size: 16px;
        }

        /* WebSocket Controls */
        .ws-controls {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .ws-btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .ws-btn.connect { background: #0ECB81; color: #0B0F1C; }
        .ws-btn.connect:hover { background: #0AB574; transform: translateY(-2px); }
        .ws-btn.disconnect { background: #F6465D; color: white; }
        .ws-btn.disconnect:hover { background: #D43F53; transform: translateY(-2px); }
        .ws-btn.subscribe { background: #F0B90B; color: #0B0F1C; }
        .ws-btn.subscribe:hover { background: #D6A50A; transform: translateY(-2px); }
        .ws-btn.orders { background: #8B5CF6; color: white; }
        .ws-btn.orders:hover { background: #7C4DF0; transform: translateY(-2px); }
        .ws-btn.clear { background: #2B3139; color: #A6B0C2; border: 1px solid #3A3F4A; }
        .ws-btn.clear:hover { border-color: #F0B90B; color: #F0B90B; }

        /* Navigation */
        .nav {
            background: #1E2329;
            padding: 15px 20px;
            border-radius: 12px;
            margin-bottom: 30px;
            border: 1px solid #2B3139;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            position: sticky;
            top: 20px;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .nav a {
            color: #A6B0C2;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .nav a:hover, .nav a.active {
            color: #F0B90B;
            background: #2B3139;
        }

        /* Section Headers */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 40px 0 20px;
            padding-top: 10px;
        }

        .section-header h2 {
            font-size: 28px;
            font-weight: 600;
            color: #F0B90B;
            border-left: 5px solid #F0B90B;
            padding-left: 20px;
        }

        .section-header .version {
            background: #1E2329;
            color: #A6B0C2;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            border: 1px solid #2B3139;
        }

        /* Market Segments */
        .market-segments {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .segment-card {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s;
        }

        .segment-card:hover {
            border-color: #F0B90B;
            transform: translateY(-2px);
        }

        .segment-card .name {
            color: #F0B90B;
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 8px;
        }

        .segment-card .desc {
            color: #A6B0C2;
            font-size: 12px;
        }

        /* Trading Grid */
        .trading-grid {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 20px;
            margin-bottom: 30px;
        }

        /* Chart Container */
        .chart-container {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 16px;
            padding: 20px;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .symbol-info {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .symbol-name {
            font-size: 28px;
            font-weight: 600;
            color: #F0B90B;
        }

        .current-price {
            font-size: 32px;
            font-weight: 600;
            color: #0ECB81;
        }

        .price-change.positive { color: #0ECB81; }
        .price-change.negative { color: #F6465D; }

        .interval-selector {
            display: flex;
            gap: 5px;
            background: #2B3139;
            padding: 4px;
            border-radius: 10px;
        }

        .interval-btn {
            background: transparent;
            border: none;
            color: #A6B0C2;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .interval-btn:hover { color: #F0B90B; }
        .interval-btn.active { background: #F0B90B; color: #0B0F1C; }

        /* Chart Area */
        .chart-area {
            height: 400px;
            background: #2B3139;
            border-radius: 12px;
            position: relative;
            margin-bottom: 15px;
            overflow: hidden;
        }

        .candles {
            position: relative;
            height: 100%;
            width: 100%;
            padding: 20px 0;
        }

        .candle {
            position: absolute;
            bottom: 15%;
            width: 8px;
            background: #0ECB81;
            border-radius: 2px;
            transition: all 0.2s;
            cursor: pointer;
        }

        .candle:hover {
            transform: scaleX(1.5);
            z-index: 100;
            box-shadow: 0 0 15px #F0B90B;
        }

        .candle.red { background: #F6465D; }

        .volume-bars {
            height: 60px;
            background: #2B3139;
            border-radius: 8px;
            display: flex;
            align-items: flex-end;
            gap: 2px;
        }

        .volume-bar {
            flex: 1;
            background: #F0B90B;
            opacity: 0.4;
            height: 100%;
            transition: all 0.2s;
            cursor: pointer;
        }

        .volume-bar:hover {
            opacity: 0.8;
            transform: scaleY(1.1);
        }

        /* Order Book */
        .order-book {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 16px;
            padding: 20px;
        }

        .order-book-header {
            display: flex;
            justify-content: space-between;
            color: #F0B90B;
            font-size: 13px;
            padding: 10px 0;
            border-bottom: 2px solid #2B3139;
        }

        .order-book-row {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            font-size: 14px;
            font-family: monospace;
            transition: all 0.2s;
            cursor: pointer;
        }

        .order-book-row:hover {
            background: #2B3139;
            padding-left: 5px;
            padding-right: 5px;
        }

        .bid-price { color: #0ECB81; font-weight: 600; }
        .ask-price { color: #F6465D; font-weight: 600; }

        .order-book-bids, .order-book-asks {
            max-height: 200px;
            overflow-y: auto;
        }

        .order-book-stats {
            background: #2B3139;
            padding: 15px;
            border-radius: 12px;
            margin-top: 15px;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: #A6B0C2;
            font-size: 13px;
        }

        .stat-value {
            color: #F0B90B;
            font-weight: 600;
        }

        /* Endpoint Card */
        .endpoint-card {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 16px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .endpoint-header {
            background: #2B3139;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 1px solid #3A3F4A;
        }

        .method {
            background: #F0B90B;
            color: #0B0F1C;
            padding: 4px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 13px;
        }

        .method.ws { background: #8B5CF6; color: white; }

        .endpoint-url {
            color: #F0B90B;
            font-family: monospace;
            font-size: 15px;
        }

        /* JSON Editor */
        .json-editor {
            margin: 15px;
        }

        .json-header {
            background: #2B3139;
            padding: 10px 15px;
            border-radius: 8px 8px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            background: #1E2329;
            border: 1px solid #3A3F4A;
            color: #A6B0C2;
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .action-btn:hover {
            border-color: #F0B90B;
            color: #F0B90B;
        }

        .json-content textarea {
            width: 100%;
            background: #2B3139;
            border: 1px solid #3A3F4A;
            color: #A6B0C2;
            font-family: monospace;
            font-size: 13px;
            padding: 15px;
            border-radius: 0 0 8px 8px;
            resize: vertical;
            outline: none;
        }

        .json-content textarea:focus {
            border-color: #F0B90B;
        }

        .response-preview {
            background: #2B3139;
            border-left: 4px solid #F0B90B;
            padding: 15px;
            margin: 15px;
            border-radius: 8px;
            max-height: 200px;
            overflow-y: auto;
        }

        .response-preview pre {
            color: #A6B0C2;
            font-family: monospace;
            font-size: 12px;
            white-space: pre-wrap;
        }

        /* WebSocket Messages */
        .ws-messages {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 12px;
            padding: 15px;
            margin: 15px;
            max-height: 300px;
            overflow-y: auto;
        }

        .ws-message {
            padding: 10px;
            border-bottom: 1px solid #2B3139;
            font-family: monospace;
            font-size: 12px;
            animation: fadeIn 0.3s;
        }

        .ws-message:last-child { border-bottom: none; }

        .ws-message .timestamp { color: #F0B90B; margin-right: 10px; }
        .ws-message .type { color: #8B5CF6; margin-right: 10px; font-weight: 600; }
        .ws-message .data { color: #0ECB81; }

        /* Tables */
        .data-table {
            width: calc(100% - 30px);
            margin: 15px;
            border-collapse: collapse;
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 12px;
            overflow: hidden;
        }

        .data-table th {
            background: #2B3139;
            color: #F0B90B;
            font-weight: 600;
            font-size: 12px;
            padding: 12px;
            text-align: left;
        }

        .data-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #2B3139;
            color: #A6B0C2;
            font-size: 13px;
        }

        .data-table tr:hover td {
            background: #2B3139;
        }

        /* Grid Layouts */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .grid-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        /* Ticker */
        .market-ticker {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .ticker-wrapper {
            overflow: hidden;
        }

        .ticker-items {
            display: inline-flex;
            gap: 20px;
            animation: tickerScroll 30s linear infinite;
            white-space: nowrap;
        }

        .ticker-items:hover {
            animation-play-state: paused;
        }

        .ticker-item {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 8px 16px;
            background: #2B3139;
            border-radius: 30px;
            cursor: pointer;
        }

        .ticker-item:hover {
            background: #3A3F4A;
        }

        .ticker-symbol { color: #F0B90B; font-weight: 600; }
        .ticker-price { color: #0ECB81; }
        .ticker-change.positive { color: #0ECB81; }
        .ticker-change.negative { color: #F6465D; }

        /* Footer */
        .footer {
            margin-top: 50px;
            padding: 30px;
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 16px;
            text-align: center;
            color: #A6B0C2;
            font-size: 13px;
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            cursor: help;
        }

        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #F0B90B;
            color: #0B0F1C;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            white-space: nowrap;
            z-index: 1000;
        }

        /* Live Indicator */
        .live-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #0ECB81;
            border-radius: 50%;
            margin-right: 5px;
            animation: pulse 2s infinite;
        }

        /* Animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes tickerScroll {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .trading-grid { grid-template-columns: 1fr; }
            .grid-4 { grid-template-columns: repeat(2, 1fr); }
        }

        @media (max-width: 768px) {
            .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
            .ws-stats { margin-left: 0; width: 100%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üöÄ UHF Trading Platform</h1>
            <div class="subtitle">Complete API Documentation for Pakistan Stock Exchange (PSX)</div>
            <div class="badge">Version 1.0 | All POST | Real-Time WebSocket</div>
        </div>

        <!-- WebSocket Status -->
        <div class="ws-status">
            <div class="ws-indicator">
                <div class="ws-led connected" id="wsLed"></div>
                <span id="wsStatus">WEBSOCKET CONNECTED</span>
            </div>
            <div class="ws-info">
                Session: ws_uhf_20260216_001 | Market: PSX
            </div>
            <div class="ws-stats">
                <div class="ws-stat">
                    <div class="ws-stat-label">MSGS/SEC</div>
                    <div class="ws-stat-value" id="msgRate">24</div>
                </div>
                <div class="ws-stat">
                    <div class="ws-stat-label">LATENCY</div>
                    <div class="ws-stat-value" id="wsLatency">12ms</div>
                </div>
                <div class="ws-stat">
                    <div class="ws-stat-label">SYMBOLS</div>
                    <div class="ws-stat-value">540</div>
                </div>
            </div>
        </div>

        <!-- WebSocket Controls -->
        <div class="ws-controls">
            <button class="ws-btn connect" onclick="connectWebSocket()">üîå Connect</button>
            <button class="ws-btn disconnect" onclick="disconnectWebSocket()">‚ö° Disconnect</button>
            <button class="ws-btn subscribe" onclick="subscribeMarket()">üì° Market Data</button>
            <button class="ws-btn orders" onclick="subscribeOrders()">üì¶ Order Updates</button>
            <button class="ws-btn clear" onclick="clearMessages()">üóëÔ∏è Clear</button>
        </div>

        <!-- Navigation -->
        <div class="nav">
            <a href="#market" onclick="scrollToSection('market')" class="active">Market Data</a>
            <a href="#segments" onclick="scrollToSection('segments')">Segments</a>
            <a href="#realtime" onclick="scrollToSection('realtime')">Real-Time JSON</a>
            <a href="#symbol" onclick="scrollToSection('symbol')">Symbol Detail</a>
            <a href="#trading" onclick="scrollToSection('trading')">Trading</a>
            <a href="#account" onclick="scrollToSection('account')">Account</a>
            <a href="#rms" onclick="scrollToSection('rms')">RMS</a>
            <a href="#overview" onclick="scrollToSection('overview')">Overview</a>
            <a href="#websocket" onclick="scrollToSection('websocket')">WebSocket</a>
        </div>

        <!-- Live Ticker -->
        <div class="market-ticker">
            <div class="ticker-wrapper">
                <div class="ticker-items" id="marketTicker"></div>
            </div>
        </div>

        <!-- Market Data Section -->
        <div class="section-header" id="market">
            <h2>üìä Market Data</h2>
            <div class="version">Live Trading View</div>
        </div>

        <!-- Trading Grid -->
        <div class="trading-grid">
            <!-- Chart -->
            <div class="chart-container">
                <div class="chart-header">
                    <div class="symbol-info">
                        <span class="symbol-name">PSO</span>
                        <span class="current-price" id="currentPrice">186.45</span>
                        <span class="price-change positive" id="priceChange">+1.45 (0.78%)</span>
                    </div>
                    <div class="interval-selector">
                        <button class="interval-btn" onclick="changeInterval('1m', this)">1m</button>
                        <button class="interval-btn" onclick="changeInterval('5m', this)">5m</button>
                        <button class="interval-btn" onclick="changeInterval('15m', this)">15m</button>
                        <button class="interval-btn" onclick="changeInterval('30m', this)">30m</button>
                        <button class="interval-btn" onclick="changeInterval('1h', this)">1h</button>
                        <button class="interval-btn active" onclick="changeInterval('1d', this)">1d</button>
                        <button class="interval-btn" onclick="changeInterval('1w', this)">1w</button>
                    </div>
                </div>
                <div class="chart-area" id="chartArea">
                    <div class="candles" id="candleChart"></div>
                </div>
                <div class="volume-bars" id="volumeBars"></div>
                <div style="display: flex; justify-content: space-between; margin-top: 15px; color: #A6B0C2; font-size: 13px;">
                    <div>O: 185.00 | H: 187.50 | L: 184.80 | C: 186.45</div>
                    <div>VWAP: 186.12 | Trades: 3,245</div>
                </div>
            </div>

            <!-- Order Book -->
            <div class="order-book">
                <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                    <span style="color: #F0B90B; font-size: 18px;">Order Book</span>
                    <span style="color: #A6B0C2;"><span class="live-indicator"></span>LIVE</span>
                </div>
                <div class="order-book-header">
                    <span>Price (PKR)</span>
                    <span>Size</span>
                    <span>Total</span>
                </div>
                <div class="order-book-asks" id="orderBookAsks"></div>
                <div style="text-align: center; padding: 10px; color: #F0B90B; font-size: 12px; background: #2B3139; border-radius: 8px; margin: 10px 0;">
                    Spread: 0.05 (0.027%)
                </div>
                <div class="order-book-bids" id="orderBookBids"></div>
                <div class="order-book-stats">
                    <div class="stat-row"><span>24h High</span><span class="stat-value" id="high24h">187.50</span></div>
                    <div class="stat-row"><span>24h Low</span><span class="stat-value" id="low24h">184.80</span></div>
                    <div class="stat-row"><span>Volume</span><span class="stat-value" id="volume24h">2.45M</span></div>
                    <div class="stat-row"><span>Turnover</span><span class="stat-value" id="turnover">456.2M</span></div>
                </div>
            </div>
        </div>

        <!-- Market Segments -->
        <div class="section-header" id="segments">
            <h2>üè∑Ô∏è Market Segments</h2>
            <div class="version">PSX Full Coverage</div>
        </div>

        <div class="market-segments">
            <div class="segment-card"><div class="name">REGULAR</div><div class="desc">Main Board ‚Ä¢ 450+</div></div>
            <div class="segment-card"><div class="name">ODD LOT</div><div class="desc">Fractional ‚Ä¢ 500+</div></div>
            <div class="segment-card"><div class="name">FUTURES</div><div class="desc">Deliverable ‚Ä¢ 50+</div></div>
            <div class="segment-card"><div class="name">ETFs</div><div class="desc">12 Funds</div></div>
            <div class="segment-card"><div class="name">INDICES</div><div class="desc">KSE100, KSE30</div></div>
            <div class="segment-card"><div class="name">ISLAMIC</div><div class="desc">KMI-30</div></div>
            <div class="segment-card"><div class="name">SECTOR</div><div class="desc">Oil, Bank, Cement</div></div>
        </div>

        <!-- Real-Time Market Data JSON -->
        <div class="section-header" id="realtime">
            <h2>‚ö° Real-Time JSON APIs</h2>
            <div class="version">10 Endpoints</div>
        </div>

        <div class="grid-2">
            <!-- Last Trade -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/market/last-trade</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>Request</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('last-trade')">Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('last-trade')">Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="last-trade">{
  "symbol": "PSO",
  "market": "REGULAR"
}</textarea>
                    </div>
                    <div class="response-preview">
                        <pre>{
  "symbol": "PSO",
  "price": 186.45,
  "size": 1000,
  "time": "11:35:22",
  "change": 1.45,
  "percent": 0.78
}</pre>
                    </div>
                </div>
            </div>

            <!-- Quote -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/market/quote</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>Request</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('quote')">Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('quote')">Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="quote">{
  "symbol": "PSO"
}</textarea>
                    </div>
                    <div class="response-preview">
                        <pre>{
  "bid": {"price": 186.40, "size": 5000},
  "ask": {"price": 186.45, "size": 3500},
  "spread": 0.05
}</pre>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid-2">
            <!-- Depth -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/market/depth</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>Request</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('depth')">Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('depth')">Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="depth">{
  "symbol": "PSO",
  "levels": 10
}</textarea>
                    </div>
                    <div class="response-preview">
                        <pre>{
  "bids": [
    {"price": 186.40, "size": 5000},
    {"price": 186.35, "size": 7500}
  ],
  "asks": [
    {"price": 186.45, "size": 3500},
    {"price": 186.50, "size": 6800}
  ]
}</pre>
                    </div>
                </div>
            </div>

            <!-- Snapshot -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/market/snapshot</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>Request</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('snapshot')">Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('snapshot')">Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="snapshot">{
  "symbol": "PSO"
}</textarea>
                    </div>
                    <div class="response-preview">
                        <pre>{
  "open": 185.00,
  "high": 187.50,
  "low": 184.80,
  "last": 186.45,
  "volume": 2450000,
  "vwap": 186.12
}</pre>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid-2">
            <!-- Klines -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/market/klines</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>Request</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('klines')">Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('klines')">Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="klines">{
  "symbol": "PSO",
  "interval": "5m",
  "limit": 100
}</textarea>
                    </div>
                    <div class="response-preview">
                        <pre>[
  {"time": "11:25", "open": 186.20, "high": 186.45, "low": 186.15, "close": 186.40, "volume": 125000},
  {"time": "11:30", "open": 186.40, "high": 186.50, "low": 186.35, "close": 186.45, "volume": 98000}
]</pre>
                    </div>
                </div>
            </div>

            <!-- Movers -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/market/movers</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>Request</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('movers')">Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('movers')">Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="movers">{
  "type": "gainers",
  "limit": 10
}</textarea>
                    </div>
                    <div class="response-preview">
                        <pre>[
  {"symbol": "MARI", "price": 2450.00, "change": 85.50, "percent": 3.62},
  {"symbol": "SYS", "price": 380.50, "change": 12.75, "percent": 3.47}
]</pre>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid-2">
            <!-- Indices -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/market/indices</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>Request</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('indices')">Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('indices')">Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="indices">{
  "indices": ["KSE100", "KSE30"]
}</textarea>
                    </div>
                    <div class="response-preview">
                        <pre>[
  {"index": "KSE100", "value": 78945.32, "change": 567.89, "percent": 0.72},
  {"index": "KSE30", "value": 45678.90, "change": 234.56, "percent": 0.52}
]</pre>
                    </div>
                </div>
            </div>

            <!-- Sectors -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/market/sectors</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>Request</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('sectors')">Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('sectors')">Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="sectors">{
  "sectors": ["OILGAS", "BANK"]
}</textarea>
                    </div>
                    <div class="response-preview">
                        <pre>[
  {"sector": "OILGAS", "value": 15432.50, "change": 123.45, "percent": 0.81},
  {"sector": "BANK", "value": 23456.78, "change": -123.45, "percent": -0.52}
]</pre>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid-2">
            <!-- Futures -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/market/futures</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>Request</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('futures')">Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('futures')">Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="futures">{
  "symbol": "PSO"
}</textarea>
                    </div>
                    <div class="response-preview">
                        <pre>{
  "futures": [
    {"contract": "FEB", "price": 187.20, "oi": 45000},
    {"contract": "MAR", "price": 188.10, "oi": 32000}
  ]
}</pre>
                    </div>
                </div>
            </div>

            <!-- ETFs -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/market/etfs</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>Request</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('etfs')">Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('etfs')">Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="etfs">{
  "symbol": "KSE100ETF"
}</textarea>
                    </div>
                    <div class="response-preview">
                        <pre>{
  "price": 125.50,
  "nav": 124.80,
  "premium": 0.70,
  "volume": 250000
}</pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Symbol Detail -->
        <div class="section-header" id="symbol">
            <h2>üìà Symbol Detail</h2>
            <div class="version">POST /api/v1/market/symbol</div>
        </div>

        <div class="endpoint-card">
            <div class="endpoint-header">
                <span class="method">POST</span>
                <span class="endpoint-url">/api/v1/market/symbol</span>
            </div>
            <div class="json-editor">
                <div class="json-header">
                    <span>Request</span>
                    <div class="action-buttons">
                        <button class="action-btn" onclick="resetToDefault('symbol-detail')">Reset</button>
                        <button class="action-btn" onclick="copyToClipboard('symbol-detail')">Copy</button>
                    </div>
                </div>
                <div class="json-content">
                    <textarea id="symbol-detail">{
  "symbol": "PSO",
  "include": ["indicators", "fundamentals"]
}</textarea>
                </div>
            </div>

            <table class="data-table">
                <tr><th>Indicator</th><th>Value</th><th>Signal</th></tr>
                <tr><td>RSI (14)</td><td>58.5</td><td style="color: #F0B90B;">NEUTRAL</td></tr>
                <tr><td>MACD</td><td>1.15 / 0.95</td><td style="color: #0ECB81;">BULLISH</td></tr>
                <tr><td>SMA 20</td><td>185.20</td><td style="color: #0ECB81;">ABOVE</td></tr>
                <tr><td>Bollinger Bands</td><td>188.50 / 185.20 / 181.90</td><td style="color: #F0B90B;">MIDDLE</td></tr>
            </table>
        </div>

        <!-- Trading APIs -->
        <div class="section-header" id="trading">
            <h2>üîÑ Trading APIs</h2>
            <div class="version">All POST</div>
        </div>

        <div class="grid-4">
            <div class="endpoint-card">
                <div class="endpoint-header"><span class="method">POST</span><span class="endpoint-url">/order/limit</span></div>
                <div class="json-content"><textarea rows="5">{
  "symbol": "PSO",
  "side": "BUY",
  "qty": 1000,
  "price": 186.40
}</textarea></div>
            </div>
            <div class="endpoint-card">
                <div class="endpoint-header"><span class="method">POST</span><span class="endpoint-url">/order/market</span></div>
                <div class="json-content"><textarea rows="5">{
  "symbol": "PSO",
  "side": "SELL",
  "qty": 500
}</textarea></div>
            </div>
            <div class="endpoint-card">
                <div class="endpoint-header"><span class="method">POST</span><span class="endpoint-url">/order/stop</span></div>
                <div class="json-content"><textarea rows="5">{
  "symbol": "PSO",
  "side": "SELL",
  "qty": 1000,
  "stop": 184.50
}</textarea></div>
            </div>
            <div class="endpoint-card">
                <div class="endpoint-header"><span class="method">POST</span><span class="endpoint-url">/order/fok</span></div>
                <div class="json-content"><textarea rows="5">{
  "symbol": "PSO",
  "side": "BUY",
  "qty": 10000,
  "price": 186.40
}</textarea></div>
            </div>
        </div>

        <!-- WebSocket Console -->
        <div class="section-header" id="websocket">
            <h2>üîå WebSocket Console</h2>
            <div class="version">Live Stream</div>
        </div>

        <div class="endpoint-card">
            <div class="endpoint-header">
                <span class="method ws">WS</span>
                <span class="endpoint-url">wss://api.uhf.com.pk/ws/v1</span>
            </div>
            <div class="json-editor">
                <div class="json-header">
                    <span>Subscribe</span>
                    <div class="action-buttons">
                        <button class="action-btn" onclick="resetToDefault('ws-subscribe')">Reset</button>
                        <button class="action-btn" onclick="copyToClipboard('ws-subscribe')">Copy</button>
                        <button class="action-btn" onclick="sendWebSocketMessage()">Send</button>
                    </div>
                </div>
                <div class="json-content">
                    <textarea id="ws-subscribe">{
  "action": "subscribe",
  "market": ["PSO", "HUBC", "KSE100"],
  "types": ["trade", "quote"]
}</textarea>
                </div>
            </div>
            <div class="ws-messages" id="wsMessages">
                <div class="ws-message"><span class="timestamp">[11:30:00]</span><span class="type">SYSTEM</span><span class="data">Connected</span></div>
                <div class="ws-message"><span class="timestamp">[11:30:01]</span><span class="type">SUBSCRIBE</span><span class="data">PSO, HUBC, KSE100</span></div>
                <div class="ws-message"><span class="timestamp">[11:30:02]</span><span class="type">TRADE</span><span class="data">PSO: 186.45 (1,000)</span></div>
                <div class="ws-message"><span class="timestamp">[11:30:03]</span><span class="type">QUOTE</span><span class="data">PSO Bid: 186.40 Ask: 186.45</span></div>
            </div>
        </div>

        <!-- Account Section -->
        <div class="section-header" id="account">
            <h2>üë§ Account</h2>
            <div class="version">POST /api/v1/account</div>
        </div>

        <div class="grid-2">
            <div class="endpoint-card">
                <div class="endpoint-header"><span class="method">POST</span><span class="endpoint-url">/account/summary</span></div>
                <div class="json-content"><textarea rows="5">{
  "account": "A12345678"
}</textarea></div>
                <div style="padding: 15px;">
                    <div class="stat-row"><span>Balance</span><span class="stat-value">2,500,000 PKR</span></div>
                    <div class="stat-row"><span>Buying Power</span><span class="stat-value">2,100,000 PKR</span></div>
                    <div class="stat-row"><span>Portfolio</span><span class="stat-value">8,450,000 PKR</span></div>
                </div>
            </div>
            <div class="endpoint-card">
                <div class="endpoint-header"><span class="method">POST</span><span class="endpoint-url">/account/holdings</span></div>
                <div class="json-content"><textarea rows="5">{
  "account": "A12345678"
}</textarea></div>
                <table class="data-table">
                    <tr><th>Symbol</th><th>Qty</th><th>Avg</th><th>P&L</th></tr>
                    <tr><td>PSO</td><td>5,000</td><td>182.50</td><td style="color: #0ECB81;">+19,750</td></tr>
                    <tr><td>HUBC</td><td>10,000</td><td>108.50</td><td style="color: #0ECB81;">+39,500</td></tr>
                </table>
            </div>
        </div>

        <!-- Risk Management -->
        <div class="section-header" id="rms">
            <h2>üõ°Ô∏è Risk Management</h2>
            <div class="version">POST /api/v1/rms</div>
        </div>

        <div class="endpoint-card">
            <div class="endpoint-header">
                <span class="method">POST</span>
                <span class="endpoint-url">/api/v1/rms/validate</span>
            </div>
            <div class="json-editor">
                <div class="json-header">
                    <span>Request</span>
                    <div class="action-buttons">
                        <button class="action-btn" onclick="resetToDefault('rms')">Reset</button>
                        <button class="action-btn" onclick="copyToClipboard('rms')">Copy</button>
                    </div>
                </div>
                <div class="json-content">
                    <textarea id="rms">{
  "account": "A12345678",
  "order": {
    "symbol": "PSO",
    "side": "BUY",
    "qty": 10000,
    "price": 186.40,
    "value": 1864000
  }
}</textarea>
                </div>
                <div class="response-preview">
                    <pre>{
  "status": "APPROVED",
  "buying_power": {
    "required": 1864000,
    "available": 2500000
  }
}</pre>
                </div>
            </div>
        </div>

        <!-- Market Overview -->
        <div class="section-header" id="overview">
            <h2>üìä Market Overview</h2>
            <div class="version">Real-Time</div>
        </div>

        <div class="grid-2">
            <div class="endpoint-card">
                <div class="endpoint-header"><span class="method">POST</span><span class="endpoint-url">/market/gainers</span></div>
                <table class="data-table">
                    <tr><th>Symbol</th><th>Price</th><th>Change</th></tr>
                    <tr><td>MARI</td><td>2,450</td><td style="color: #0ECB81;">+3.62%</td></tr>
                    <tr><td>SYS</td><td>380.50</td><td style="color: #0ECB81;">+3.47%</td></tr>
                </table>
            </div>
            <div class="endpoint-card">
                <div class="endpoint-header"><span class="method">POST</span><span class="endpoint-url">/market/losers</span></div>
                <table class="data-table">
                    <tr><th>Symbol</th><th>Price</th><th>Change</th></tr>
                    <tr><td>UBL</td><td>210.30</td><td style="color: #F6465D;">-2.41%</td></tr>
                    <tr><td>HBL</td><td>115.40</td><td style="color: #F6465D;">-1.79%</td></tr>
                </table>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>UHF Trading Platform API Documentation v1.0</p>
            <p>¬© 2026 UHF. All rights reserved. | Pakistan Stock Exchange Integration</p>
        </div>
    </div>

    <script>
        // Default values for reset
        const defaults = {
            'last-trade': '{\n  "symbol": "PSO",\n  "market": "REGULAR"\n}',
            'quote': '{\n  "symbol": "PSO"\n}',
            'depth': '{\n  "symbol": "PSO",\n  "levels": 10\n}',
            'snapshot': '{\n  "symbol": "PSO"\n}',
            'klines': '{\n  "symbol": "PSO",\n  "interval": "5m",\n  "limit": 100\n}',
            'movers': '{\n  "type": "gainers",\n  "limit": 10\n}',
            'indices': '{\n  "indices": ["KSE100", "KSE30"]\n}',
            'sectors': '{\n  "sectors": ["OILGAS", "BANK"]\n}',
            'futures': '{\n  "symbol": "PSO"\n}',
            'etfs': '{\n  "symbol": "KSE100ETF"\n}',
            'symbol-detail': '{\n  "symbol": "PSO",\n  "include": ["indicators", "fundamentals"]\n}',
            'ws-subscribe': '{\n  "action": "subscribe",\n  "market": ["PSO", "HUBC", "KSE100"],\n  "types": ["trade", "quote"]\n}',
            'rms': '{\n  "account": "A12345678",\n  "order": {\n    "symbol": "PSO",\n    "side": "BUY",\n    "qty": 10000,\n    "price": 186.40,\n    "value": 1864000\n  }\n}'
        };

        function resetToDefault(id) {
            if (defaults[id]) {
                document.getElementById(id).value = defaults[id];
            }
        }

        function copyToClipboard(id) {
            const el = document.getElementById(id);
            el.select();
            document.execCommand('copy');
            alert('Copied!');
        }

        // WebSocket functions
        function connectWebSocket() {
            document.getElementById('wsLed').className = 'ws-led connected';
            document.getElementById('wsStatus').textContent = 'WEBSOCKET CONNECTED';
            addMessage('SYSTEM', 'WebSocket connected');
        }

        function disconnectWebSocket() {
            document.getElementById('wsLed').className = 'ws-led';
            document.getElementById('wsStatus').textContent = 'WEBSOCKET DISCONNECTED';
            addMessage('SYSTEM', 'WebSocket disconnected');
        }

        function subscribeMarket() {
            addMessage('SUBSCRIBE', 'Market data subscribed');
        }

        function subscribeOrders() {
            addMessage('SUBSCRIBE', 'Order updates subscribed');
        }

        function clearMessages() {
            document.getElementById('wsMessages').innerHTML = '';
        }

        function sendWebSocketMessage() {
            addMessage('SENT', 'Subscription request sent');
        }

        function addMessage(type, data) {
            const container = document.getElementById('wsMessages');
            const now = new Date();
            const time = `[${now.getHours()}:${String(now.getMinutes()).padStart(2,'0')}:${String(now.getSeconds()).padStart(2,'0')}]`;
            const msg = document.createElement('div');
            msg.className = 'ws-message';
            msg.innerHTML = `<span class="timestamp">${time}</span><span class="type">${type}</span><span class="data">${data}</span>`;
            container.insertBefore(msg, container.firstChild);
            document.getElementById('msgRate').textContent = 24 + Math.floor(Math.random() * 10);
        }

        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
            document.querySelectorAll('.nav a').forEach(a => a.classList.remove('active'));
            event.target.classList.add('active');
        }

        function changeInterval(interval, btn) {
            document.querySelectorAll('.interval-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }

        // Live data simulation
        function updateChart() {
            const chart = document.getElementById('candleChart');
            if (!chart) return;
            chart.innerHTML = '';
            for (let i = 0; i < 50; i++) {
                const candle = document.createElement('div');
                candle.className = 'candle' + (Math.random() > 0.5 ? ' red' : '');
                candle.style.height = (30 + Math.random() * 150) + 'px';
                candle.style.left = (i * 12) + 'px';
                chart.appendChild(candle);
            }

            const volume = document.getElementById('volumeBars');
            if (volume) {
                volume.innerHTML = '';
                for (let i = 0; i < 50; i++) {
                    const bar = document.createElement('div');
                    bar.className = 'volume-bar';
                    bar.style.height = (20 + Math.random() * 40) + 'px';
                    volume.appendChild(bar);
                }
            }
        }

        function updateOrderBook() {
            const bids = document.getElementById('orderBookBids');
            const asks = document.getElementById('orderBookAsks');
            
            if (bids) {
                bids.innerHTML = '';
                for (let i = 0; i < 10; i++) {
                    const row = document.createElement('div');
                    row.className = 'order-book-row';
                    row.innerHTML = `<span class="bid-price">${(186.40 - i * 0.05).toFixed(2)}</span><span>${Math.floor(1000 + Math.random() * 9000)}</span><span>${(Math.random() * 2).toFixed(1)}M</span>`;
                    bids.appendChild(row);
                }
            }

            if (asks) {
                asks.innerHTML = '';
                for (let i = 1; i <= 10; i++) {
                    const row = document.createElement('div');
                    row.className = 'order-book-row';
                    row.innerHTML = `<span class="ask-price">${(186.45 + i * 0.05).toFixed(2)}</span><span>${Math.floor(800 + Math.random() * 8000)}</span><span>${(Math.random() * 1.5).toFixed(1)}M</span>`;
                    asks.appendChild(row);
                }
            }
        }

        function updateTicker() {
            const ticker = document.getElementById('marketTicker');
            if (!ticker) return;
            const symbols = ['PSO', 'HUBC', 'MARI', 'SYS', 'FFC', 'KSE100', 'KMI30'];
            let html = '';
            symbols.forEach(s => {
                const price = (100 + Math.random() * 2000).toFixed(2);
                const change = (Math.random() * 4 - 1).toFixed(2);
                html += `<div class="ticker-item"><span class="ticker-symbol">${s}</span><span class="ticker-price">${price}</span><span class="ticker-change ${change >= 0 ? 'positive' : 'negative'}">${change >= 0 ? '+' : ''}${change}%</span></div>`;
            });
            ticker.innerHTML = html;
        }

        function updateStats() {
            document.getElementById('currentPrice').textContent = (186 + Math.random() * 2).toFixed(2);
            document.getElementById('high24h').textContent = (187 + Math.random()).toFixed(2);
            document.getElementById('low24h').textContent = (184 + Math.random()).toFixed(2);
            document.getElementById('volume24h').textContent = (2 + Math.random()).toFixed(2) + 'M';
            document.getElementById('turnover').textContent = (456 + Math.random() * 10).toFixed(1) + 'M';
            document.getElementById('wsLatency').textContent = (10 + Math.floor(Math.random() * 20)) + 'ms';
        }

        // Initialize
        window.onload = function() {
            connectWebSocket();
            updateChart();
            updateOrderBook();
            updateTicker();
            
            setInterval(updateChart, 5000);
            setInterval(updateOrderBook, 3000);
            setInterval(updateTicker, 4000);
            setInterval(updateStats, 2000);
            
            // Message rate simulation
            setInterval(() => {
                document.getElementById('msgRate').textContent = 24 + Math.floor(Math.random() * 10);
            }, 1000);
        };
    </script>
</body>
</html>