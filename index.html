<!DOCTYPE html>
<html>
<head>
    <title>UHF Trading Platform - Live PSX API Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: #0B0F1C;
            color: #E5E7EB;
            line-height: 1.6;
            padding-top: 0;
        }

        /* Binance-style scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1E2329;
        }
        ::-webkit-scrollbar-thumb {
            background: #474D57;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #5E6673;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header - Fixed and Visible */
        .header {
            background: linear-gradient(135deg, #1E2329 0%, #2B3139 100%);
            padding: 30px;
            border-radius: 16px;
            margin-bottom: 30px;
            border: 1px solid #2B3139;
            box-shadow: 0 8px 24px rgba(0,0,0,0.2);
            position: relative;
            overflow: visible;
            z-index: 10;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(240,185,11,0.1) 0%, transparent 50%);
            animation: pulse 10s infinite;
            pointer-events: none;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 600;
            color: #F0B90B;
            margin-bottom: 10px;
            position: relative;
            z-index: 11;
        }

        .header .subtitle {
            font-size: 16px;
            color: #A6B0C2;
            position: relative;
            z-index: 11;
        }

        .header .badge {
            background: #F0B90B;
            color: #0B0F1C;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 12px;
            display: inline-block;
            margin-top: 15px;
            position: relative;
            z-index: 11;
        }

        /* Navigation - Fixed Below Header */
        .nav {
            background: #1E2329;
            padding: 15px 20px;
            border-radius: 12px;
            margin-bottom: 30px;
            border: 1px solid #2B3139;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            position: sticky;
            top: 20px;
            z-index: 100;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .nav a {
            color: #A6B0C2;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            padding: 5px 10px;
            border-radius: 8px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .nav a:hover {
            color: #F0B90B;
            background: #2B3139;
        }

        .nav a.active {
            color: #F0B90B;
            border-bottom: 2px solid #F0B90B;
        }

        /* WebSocket Status Bar - Clearly Visible */
        .ws-status {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 30px;
            flex-wrap: wrap;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .ws-indicator {
            display: flex;
            align-items: center;
            gap: 15px;
            background: #2B3139;
            padding: 10px 20px;
            border-radius: 40px;
        }

        .ws-led {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #F6465D;
            transition: all 0.3s;
            box-shadow: 0 0 10px #F6465D;
        }

        .ws-led.connected {
            background: #0ECB81;
            box-shadow: 0 0 15px #0ECB81;
            animation: pulse 2s infinite;
        }

        .ws-led.connecting {
            background: #F0B90B;
            box-shadow: 0 0 15px #F0B90B;
            animation: blink 1s infinite;
        }

        .ws-info {
            color: #F0B90B;
            font-size: 14px;
            font-weight: 500;
            background: #2B3139;
            padding: 10px 20px;
            border-radius: 40px;
        }

        .ws-stats {
            display: flex;
            gap: 30px;
            margin-left: auto;
            background: #2B3139;
            padding: 10px 20px;
            border-radius: 40px;
        }

        .ws-stat {
            text-align: center;
        }

        .ws-stat-label {
            color: #A6B0C2;
            font-size: 11px;
            text-transform: uppercase;
        }

        .ws-stat-value {
            color: #F0B90B;
            font-weight: 600;
            font-size: 16px;
        }

        /* Connection Controls */
        .ws-controls {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .ws-btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .ws-btn.connect {
            background: #0ECB81;
            color: #0B0F1C;
        }

        .ws-btn.connect:hover {
            background: #0AB574;
            transform: translateY(-2px);
        }

        .ws-btn.disconnect {
            background: #F6465D;
            color: white;
        }

        .ws-btn.disconnect:hover {
            background: #D43F53;
            transform: translateY(-2px);
        }

        .ws-btn.subscribe {
            background: #F0B90B;
            color: #0B0F1C;
        }

        .ws-btn.subscribe:hover {
            background: #D6A50A;
            transform: translateY(-2px);
        }

        .ws-btn.orders {
            background: #8B5CF6;
            color: white;
        }

        .ws-btn.orders:hover {
            background: #7C4DF0;
            transform: translateY(-2px);
        }

        /* Section Headers */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 50px 0 30px 0;
            padding-top: 10px;
        }

        .section-header h2 {
            font-size: 28px;
            font-weight: 600;
            color: #F0B90B;
            border-left: 5px solid #F0B90B;
            padding-left: 20px;
        }

        .section-header .version {
            background: #1E2329;
            color: #A6B0C2;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            border: 1px solid #2B3139;
        }

        /* Endpoint Card */
        .endpoint-card {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 16px;
            margin-bottom: 30px;
            overflow: visible;
            transition: transform 0.3s, border-color 0.3s;
        }

        .endpoint-card:hover {
            transform: translateY(-2px);
            border-color: #F0B90B;
        }

        .endpoint-header {
            background: #2B3139;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            border-bottom: 1px solid #3A3F4A;
        }

        .method {
            background: #F0B90B;
            color: #0B0F1C;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
        }

        .method.ws {
            background: #8B5CF6;
            color: white;
        }

        .endpoint-url {
            color: #F0B90B;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 16px;
        }

        .endpoint-desc {
            color: #A6B0C2;
            font-size: 14px;
            margin-left: auto;
        }

        /* Grid Layout for Trading View */
        .trading-grid {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 25px;
            margin-bottom: 40px;
        }

        /* Chart Container */
        .chart-container {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 16px;
            padding: 20px;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .symbol-info {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .symbol-name {
            font-size: 28px;
            font-weight: 600;
            color: #F0B90B;
        }

        .current-price {
            font-size: 32px;
            font-weight: 600;
            color: #0ECB81;
        }

        .price-change {
            font-size: 18px;
        }

        .price-change.positive {
            color: #0ECB81;
        }

        .price-change.negative {
            color: #F6465D;
        }

        .interval-selector {
            display: flex;
            gap: 8px;
            background: #2B3139;
            padding: 5px;
            border-radius: 10px;
            flex-wrap: wrap;
        }

        .interval-btn {
            background: transparent;
            border: none;
            color: #A6B0C2;
            padding: 8px 14px;
            border-radius: 8px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .interval-btn:hover {
            color: #F0B90B;
            background: #3A3F4A;
        }

        .interval-btn.active {
            background: #F0B90B;
            color: #0B0F1C;
            font-weight: 600;
        }

        /* Chart Area */
        .chart-area {
            height: 450px;
            background: #2B3139;
            border-radius: 12px;
            position: relative;
            overflow: hidden;
            margin-bottom: 20px;
            border: 1px solid #3A3F4A;
        }

        .candles {
            position: relative;
            height: 100%;
            width: 100%;
            padding: 20px 0;
        }

        .candle {
            position: absolute;
            bottom: 15%;
            width: 8px;
            background: #0ECB81;
            border-radius: 2px;
            transition: all 0.2s;
            cursor: pointer;
        }

        .candle:hover {
            transform: scaleX(1.5);
            z-index: 100;
            box-shadow: 0 0 15px #F0B90B;
        }

        .candle.red {
            background: #F6465D;
        }

        .volume-bars {
            height: 70px;
            background: #2B3139;
            border-radius: 8px;
            margin-top: 15px;
            display: flex;
            align-items: flex-end;
            gap: 2px;
            padding: 5px 0;
            border: 1px solid #3A3F4A;
        }

        .volume-bar {
            flex: 1;
            background: #F0B90B;
            opacity: 0.4;
            height: 100%;
            transition: all 0.2s;
            cursor: pointer;
        }

        .volume-bar:hover {
            opacity: 0.8;
            transform: scaleY(1.1);
        }

        /* Order Book */
        .order-book {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 16px;
            padding: 20px;
        }

        .order-book-header {
            display: flex;
            justify-content: space-between;
            color: #F0B90B;
            font-size: 13px;
            padding: 12px 0;
            border-bottom: 2px solid #2B3139;
            font-weight: 600;
        }

        .order-book-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            font-size: 14px;
            font-family: 'Monaco', 'Menlo', monospace;
            transition: all 0.2s;
            cursor: pointer;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .order-book-row:hover {
            background: #2B3139;
            padding-left: 5px;
            padding-right: 5px;
        }

        .bid-price {
            color: #0ECB81;
            font-weight: 600;
        }

        .ask-price {
            color: #F6465D;
            font-weight: 600;
        }

        .order-book-bids, .order-book-asks {
            max-height: 220px;
            overflow-y: auto;
        }

        .order-book-stats {
            background: #2B3139;
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            color: #A6B0C2;
            font-size: 14px;
            padding: 5px 0;
            border-bottom: 1px solid #3A3F4A;
        }

        .stat-row:last-child {
            border-bottom: none;
        }

        .stat-value {
            color: #F0B90B;
            font-weight: 600;
            font-size: 15px;
        }

        /* JSON Editor */
        .json-editor {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 12px;
            margin: 15px;
            overflow: visible;
        }

        .json-header {
            background: #2B3139;
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #3A3F4A;
        }

        .json-header span {
            color: #F0B90B;
            font-weight: 600;
            font-size: 14px;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            background: #2B3139;
            border: 1px solid #3A3F4A;
            color: #A6B0C2;
            padding: 6px 14px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .action-btn:hover {
            border-color: #F0B90B;
            color: #F0B90B;
            transform: translateY(-1px);
        }

        .action-btn:active {
            transform: translateY(0);
        }

        .json-content {
            padding: 20px;
        }

        .json-content textarea {
            width: 100%;
            background: #2B3139;
            border: 1px solid #3A3F4A;
            color: #A6B0C2;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 13px;
            line-height: 1.5;
            padding: 15px;
            border-radius: 8px;
            resize: vertical;
            outline: none;
            min-height: 120px;
        }

        .json-content textarea:focus {
            border-color: #F0B90B;
            box-shadow: 0 0 0 2px rgba(240,185,11,0.2);
        }

        .response-preview {
            background: #2B3139;
            border-radius: 8px;
            padding: 15px;
            margin: 15px;
            border-left: 4px solid #F0B90B;
            max-height: 200px;
            overflow-y: auto;
        }

        .response-preview pre {
            color: #A6B0C2;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        /* Market Ticker */
        .market-ticker {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 30px;
            overflow: hidden;
            position: relative;
        }

        .ticker-wrapper {
            overflow: hidden;
            width: 100%;
        }

        .ticker-items {
            display: inline-flex;
            gap: 25px;
            animation: tickerScroll 30s linear infinite;
            white-space: nowrap;
            padding: 5px 0;
        }

        .ticker-items:hover {
            animation-play-state: paused;
        }

        .ticker-item {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            padding: 10px 20px;
            background: #2B3139;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid #3A3F4A;
        }

        .ticker-item:hover {
            background: #3A3F4A;
            transform: translateY(-2px);
            border-color: #F0B90B;
        }

        .ticker-symbol {
            color: #F0B90B;
            font-weight: 600;
            font-size: 14px;
        }

        .ticker-price {
            color: #0ECB81;
            font-weight: 600;
            font-size: 14px;
        }

        .ticker-change.positive {
            color: #0ECB81;
        }

        .ticker-change.negative {
            color: #F6465D;
        }

        @keyframes tickerScroll {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        /* WebSocket Messages Console */
        .ws-messages {
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 15px 15px 15px;
            max-height: 300px;
            overflow-y: auto;
        }

        .ws-message {
            padding: 12px;
            border-bottom: 1px solid #2B3139;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
            color: #A6B0C2;
            animation: fadeIn 0.3s;
            background: rgba(255,255,255,0.02);
            border-radius: 6px;
            margin-bottom: 5px;
        }

        .ws-message:hover {
            background: #2B3139;
        }

        .ws-message .timestamp {
            color: #F0B90B;
            margin-right: 15px;
            font-weight: 600;
        }

        .ws-message .type {
            color: #8B5CF6;
            margin-right: 15px;
            font-weight: 600;
        }

        .ws-message .data {
            color: #0ECB81;
        }

        /* Tables */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 12px;
            overflow: hidden;
            margin: 15px;
            width: calc(100% - 30px);
        }

        .data-table th {
            background: #2B3139;
            color: #F0B90B;
            font-weight: 600;
            font-size: 12px;
            padding: 15px;
            text-align: left;
            cursor: pointer;
            transition: background 0.3s;
        }

        .data-table th:hover {
            background: #3A3F4A;
        }

        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #2B3139;
            color: #A6B0C2;
            font-size: 13px;
        }

        .data-table tr:hover {
            background: #2B3139;
        }

        .data-table tr:last-child td {
            border-bottom: none;
        }

        /* Footer */
        .footer {
            margin-top: 60px;
            padding: 30px;
            background: #1E2329;
            border: 1px solid #2B3139;
            border-radius: 16px;
            text-align: center;
            color: #A6B0C2;
            font-size: 13px;
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #F0B90B;
            color: #0B0F1C;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 11px;
            white-space: nowrap;
            z-index: 1000;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        /* Animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .live-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            background: #0ECB81;
            border-radius: 50%;
            margin-right: 8px;
            animation: pulse 2s infinite;
            box-shadow: 0 0 10px #0ECB81;
        }

        /* Grid Layouts */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
            margin: 25px 0;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin: 25px 0;
        }

        /* Responsive */
        @media (max-width: 1400px) {
            .trading-grid {
                grid-template-columns: 1fr;
            }
            
            .grid-3 {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
            
            .nav {
                top: 0;
            }
            
            .ws-stats {
                margin-left: 0;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header - Completely Visible -->
        <div class="header">
            <h1>ðŸš€ UHF Trading Platform</h1>
            <div class="subtitle">Complete API Documentation for Pakistan Stock Exchange (PSX) Integration</div>
            <div class="badge">Version 1.0 | Real-Time WebSocket | Live Data Streams</div>
        </div>

        <!-- WebSocket Status Bar - Fully Visible -->
        <div class="ws-status">
            <div class="ws-indicator">
                <div class="ws-led connected" id="wsLed"></div>
                <span style="color: #F0B90B; font-weight: 600;" id="wsStatus">WEBSOCKET CONNECTED</span>
            </div>
            <div class="ws-info" id="wsInfo">
                Session: ws_uhf_20260216_001
            </div>
            <div class="ws-stats">
                <div class="ws-stat">
                    <div class="ws-stat-label">Messages/sec</div>
                    <div class="ws-stat-value" id="msgRate">24</div>
                </div>
                <div class="ws-stat">
                    <div class="ws-stat-label">Latency</div>
                    <div class="ws-stat-value" id="wsLatency">12ms</div>
                </div>
                <div class="ws-stat">
                    <div class="ws-stat-label">Uptime</div>
                    <div class="ws-stat-value" id="uptime">99.97%</div>
                </div>
            </div>
        </div>

        <!-- WebSocket Controls -->
        <div class="ws-controls">
            <button class="ws-btn connect" onclick="connectWebSocket()">
                <span>ðŸ”Œ</span> Connect WebSocket
            </button>
            <button class="ws-btn disconnect" onclick="disconnectWebSocket()">
                <span>âš¡</span> Disconnect
            </button>
            <button class="ws-btn subscribe" onclick="subscribeMarket()">
                <span>ðŸ“¡</span> Subscribe Market
            </button>
            <button class="ws-btn orders" onclick="subscribeOrders()">
                <span>ðŸ“¦</span> Subscribe Orders
            </button>
        </div>

        <!-- Navigation -->
        <div class="nav">
            <a href="#market" onclick="scrollToSection('market')">Market Data</a>
            <a href="#symbol" onclick="scrollToSection('symbol')">Symbol Detail</a>
            <a href="#trading" onclick="scrollToSection('trading')">Trading</a>
            <a href="#account" onclick="scrollToSection('account')">Account</a>
            <a href="#rms" onclick="scrollToSection('rms')">Risk Management</a>
            <a href="#overview" onclick="scrollToSection('overview')">Market Overview</a>
            <a href="#websocket" onclick="scrollToSection('websocket')">WebSocket Console</a>
        </div>

        <!-- Live Market Ticker -->
        <div class="market-ticker">
            <div class="ticker-wrapper">
                <div class="ticker-items" id="marketTicker"></div>
            </div>
        </div>

        <!-- Market Data Section -->
        <div class="section-header" id="market">
            <h2>ðŸ“Š Real-Time Market Data</h2>
            <div class="version">WebSocket + POST</div>
        </div>

        <!-- Trading View Grid -->
        <div class="trading-grid">
            <!-- Chart Column -->
            <div class="chart-container">
                <div class="chart-header">
                    <div class="symbol-info">
                        <span class="symbol-name">PSO / PKR</span>
                        <span class="current-price" id="currentPrice">186.45</span>
                        <span class="price-change positive" id="priceChange">+1.45 (0.78%)</span>
                    </div>
                    <div class="interval-selector">
                        <button class="interval-btn" onclick="changeInterval('1m', this)">1m</button>
                        <button class="interval-btn" onclick="changeInterval('5m', this)">5m</button>
                        <button class="interval-btn" onclick="changeInterval('15m', this)">15m</button>
                        <button class="interval-btn" onclick="changeInterval('30m', this)">30m</button>
                        <button class="interval-btn" onclick="changeInterval('1h', this)">1h</button>
                        <button class="interval-btn" onclick="changeInterval('4h', this)">4h</button>
                        <button class="interval-btn active" onclick="changeInterval('1d', this)">1d</button>
                        <button class="interval-btn" onclick="changeInterval('1w', this)">1w</button>
                    </div>
                </div>

                <!-- Chart Area -->
                <div class="chart-area">
                    <div class="candles" id="candleChart"></div>
                </div>

                <!-- Volume Bars -->
                <div class="volume-bars" id="volumeBars"></div>

                <!-- Chart Info -->
                <div style="display: flex; justify-content: space-between; margin-top: 20px; padding: 10px; background: #2B3139; border-radius: 8px;">
                    <div>
                        <span class="tooltip" data-tooltip="Opening Price">O: 185.00</span> |
                        <span class="tooltip" data-tooltip="Highest Price">H: 187.50</span> |
                        <span class="tooltip" data-tooltip="Lowest Price">L: 184.80</span> |
                        <span class="tooltip" data-tooltip="Closing Price">C: 186.45</span>
                    </div>
                    <div>
                        <span class="tooltip" data-tooltip="Volume Weighted Average Price">VWAP: 186.12</span> |
                        <span class="tooltip" data-tooltip="Number of Trades">Trades: 3,245</span>
                    </div>
                </div>
            </div>

            <!-- Order Book Column -->
            <div class="order-book">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <span style="color: #F0B90B; font-size: 18px; font-weight: 600;">Order Book</span>
                    <span style="color: #A6B0C2; display: flex; align-items: center;">
                        <span class="live-indicator"></span>PSO LIVE
                    </span>
                </div>
                
                <div class="order-book-header">
                    <span>Price (PKR)</span>
                    <span>Size</span>
                    <span>Total (M)</span>
                </div>

                <!-- Asks -->
                <div class="order-book-asks" id="orderBookAsks"></div>

                <!-- Spread -->
                <div style="text-align: center; padding: 15px; color: #F0B90B; font-size: 13px; border-bottom: 1px solid #2B3139; border-top: 1px solid #2B3139; margin: 10px 0; background: #2B3139; border-radius: 8px;">
                    Spread: 0.05 (0.027%)
                </div>

                <!-- Bids -->
                <div class="order-book-bids" id="orderBookBids"></div>

                <!-- Market Stats -->
                <div class="order-book-stats">
                    <div class="stat-row">
                        <span>24h High</span>
                        <span class="stat-value" id="high24h">187.50</span>
                    </div>
                    <div class="stat-row">
                        <span>24h Low</span>
                        <span class="stat-value" id="low24h">184.80</span>
                    </div>
                    <div class="stat-row">
                        <span>24h Volume</span>
                        <span class="stat-value" id="volume24h">2.45M</span>
                    </div>
                    <div class="stat-row">
                        <span>Turnover</span>
                        <span class="stat-value" id="turnover">456.2M</span>
                    </div>
                    <div class="stat-row">
                        <span>VWAP</span>
                        <span class="stat-value" id="vwap">186.12</span>
                    </div>
                    <div class="stat-row">
                        <span>Trades</span>
                        <span class="stat-value" id="trades">3,245</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Market Data Endpoints -->
        <div class="grid-2">
            <!-- Last Trade -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/market/last-trade</span>
                    <span class="endpoint-desc">Get last trade</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>ðŸ“¤ Request</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('last-trade')">âŸ² Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('last-trade')">ðŸ“‹ Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="last-trade">{
  "symbol": "PSO",
  "market": "REGULAR",
  "timestamp": "2026-02-16T11:35:00+05:00"
}</textarea>
                    </div>
                    <div class="response-preview">
                        <pre>{
  "symbol": "PSO",
  "price": 186.45,
  "size": 1000,
  "time": "11:35:22",
  "change": 1.45,
  "change_percent": 0.78
}</pre>
                    </div>
                </div>
            </div>

            <!-- Market Depth -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/market/depth</span>
                    <span class="endpoint-desc">Get order book</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>ðŸ“¤ Request</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('market-depth')">âŸ² Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('market-depth')">ðŸ“‹ Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="market-depth">{
  "symbol": "PSO",
  "levels": 10,
  "timestamp": "2026-02-16T11:35:00+05:00"
}</textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- WebSocket Console Section -->
        <div class="section-header" id="websocket">
            <h2>ðŸ”Œ WebSocket Console</h2>
            <div class="version">Live Message Stream</div>
        </div>

        <div class="endpoint-card">
            <div class="endpoint-header">
                <span class="method ws">WS</span>
                <span class="endpoint-url">wss://api.uhf.com.pk/ws/v1</span>
                <span class="endpoint-desc">Real-Time WebSocket Stream</span>
            </div>

            <div class="json-editor">
                <div class="json-header">
                    <span>ðŸ“¤ Subscription Request</span>
                    <div class="action-buttons">
                        <button class="action-btn" onclick="resetToDefault('ws-subscribe')">âŸ² Reset</button>
                        <button class="action-btn" onclick="copyToClipboard('ws-subscribe')">ðŸ“‹ Copy</button>
                        <button class="action-btn" onclick="sendWebSocketMessage()">ðŸ“¨ Send</button>
                    </div>
                </div>
                <div class="json-content">
                    <textarea id="ws-subscribe">{
  "action": "subscribe",
  "request_id": "sub_20260216_001",
  "channels": {
    "market": {
      "symbols": ["PSO", "HUBC", "MARI", "SYS"],
      "types": ["trade", "quote", "depth", "ohlc"]
    },
    "orders": {
      "accounts": ["A12345678"],
      "types": ["new", "fill", "cancel", "reject"]
    }
  },
  "depth_levels": 10,
  "snapshot": true
}</textarea>
                </div>
            </div>

            <!-- WebSocket Messages -->
            <div class="ws-messages" id="wsMessages">
                <div class="ws-message">
                    <span class="timestamp">[11:30:00]</span>
                    <span class="type">SYSTEM</span>
                    <span class="data">WebSocket connected successfully</span>
                </div>
                <div class="ws-message">
                    <span class="timestamp">[11:30:01]</span>
                    <span class="type">SUBSCRIBE</span>
                    <span class="data">Subscribed to market data for PSO, HUBC, MARI</span>
                </div>
                <div class="ws-message">
                    <span class="timestamp">[11:30:02]</span>
                    <span class="type">TRADE</span>
                    <span class="data">PSO: 186.45 (1,000 shares)</span>
                </div>
                <div class="ws-message">
                    <span class="timestamp">[11:30:03]</span>
                    <span class="type">QUOTE</span>
                    <span class="data">PSO Bid: 186.40 (5,000) | Ask: 186.45 (3,500)</span>
                </div>
                <div class="ws-message">
                    <span class="timestamp">[11:30:04]</span>
                    <span class="type">DEPTH</span>
                    <span class="data">PSO Depth: +12 levels updated</span>
                </div>
            </div>
        </div>

        <!-- Symbol Detail Section -->
        <div class="section-header" id="symbol">
            <h2>ðŸ“ˆ Symbol Detail</h2>
            <div class="version">POST /api/v1/market/symbol</div>
        </div>

        <div class="endpoint-card">
            <div class="endpoint-header">
                <span class="method">POST</span>
                <span class="endpoint-url">/api/v1/market/symbol</span>
                <span class="endpoint-desc">Complete symbol information</span>
            </div>
            <div class="json-editor">
                <div class="json-header">
                    <span>ðŸ“¤ Request</span>
                    <div class="action-buttons">
                        <button class="action-btn" onclick="resetToDefault('symbol-detail')">âŸ² Reset</button>
                        <button class="action-btn" onclick="copyToClipboard('symbol-detail')">ðŸ“‹ Copy</button>
                    </div>
                </div>
                <div class="json-content">
                    <textarea id="symbol-detail">{
  "symbol": "PSO",
  "include": {
    "real_time": true,
    "depth": true,
    "indicators": true,
    "fundamentals": true,
    "corporate_actions": true
  },
  "depth_levels": 10,
  "timestamp": "2026-02-16T11:35:00+05:00"
}</textarea>
                </div>
            </div>

            <!-- Technical Indicators Table -->
            <table class="data-table">
                <tr>
                    <th>Indicator</th>
                    <th>Value</th>
                    <th>Signal</th>
                    <th>Updated</th>
                </tr>
                <tr>
                    <td>RSI (14)</td>
                    <td>58.5</td>
                    <td style="color: #F0B90B;">NEUTRAL</td>
                    <td>11:35:22</td>
                </tr>
                <tr>
                    <td>MACD</td>
                    <td>1.15 / 0.95</td>
                    <td style="color: #0ECB81;">BULLISH</td>
                    <td>11:35:22</td>
                </tr>
                <tr>
                    <td>SMA 20</td>
                    <td>185.20</td>
                    <td style="color: #0ECB81;">ABOVE</td>
                    <td>11:35:22</td>
                </tr>
                <tr>
                    <td>SMA 50</td>
                    <td>183.50</td>
                    <td style="color: #0ECB81;">ABOVE</td>
                    <td>11:35:22</td>
                </tr>
                <tr>
                    <td>Bollinger Bands</td>
                    <td>188.50 / 185.20 / 181.90</td>
                    <td style="color: #F0B90B;">MIDDLE</td>
                    <td>11:35:22</td>
                </tr>
            </table>

            <!-- Fundamentals Table -->
            <table class="data-table">
                <tr>
                    <th>Fundamental</th>
                    <th>Value</th>
                    <th>Updated</th>
                </tr>
                <tr>
                    <td>Market Cap</td>
                    <td>285,000,000,000 PKR</td>
                    <td>2026-02-16</td>
                </tr>
                <tr>
                    <td>P/E Ratio</td>
                    <td>7.22</td>
                    <td>2026-02-16</td>
                </tr>
                <tr>
                    <td>EPS (TTM)</td>
                    <td>25.80</td>
                    <td>2026-02-16</td>
                </tr>
                <tr>
                    <td>Dividend Yield</td>
                    <td>4.8%</td>
                    <td>2026-02-16</td>
                </tr>
            </table>
        </div>

        <!-- Trading Section -->
        <div class="section-header" id="trading">
            <h2>ðŸ”„ Trading APIs</h2>
            <div class="version">All Endpoints POST</div>
        </div>

        <!-- Order Types Grid -->
        <div class="grid-3">
            <!-- Limit Order -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/trade/order</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>ðŸ“¤ Limit Order</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('order-limit')">âŸ² Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('order-limit')">ðŸ“‹ Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="order-limit">{
  "client_id": "uhf_001",
  "account": "A12345678",
  "client_order_id": "ORD_20260216_001",
  "symbol": "PSO",
  "side": "BUY",
  "order_type": "LIMIT",
  "quantity": 1000,
  "price": 186.40,
  "time_in_force": "DAY"
}</textarea>
                    </div>
                </div>
            </div>

            <!-- Market Order -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/trade/order</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>ðŸ“¤ Market Order</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('order-market')">âŸ² Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('order-market')">ðŸ“‹ Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="order-market">{
  "client_id": "uhf_001",
  "account": "A12345678",
  "client_order_id": "ORD_20260216_002",
  "symbol": "PSO",
  "side": "SELL",
  "order_type": "MARKET",
  "quantity": 500,
  "time_in_force": "IOC"
}</textarea>
                    </div>
                </div>
            </div>

            <!-- Stop Loss -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/trade/order</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>ðŸ“¤ Stop Loss</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('order-stop')">âŸ² Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('order-stop')">ðŸ“‹ Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="order-stop">{
  "client_id": "uhf_001",
  "account": "A12345678",
  "client_order_id": "ORD_20260216_003",
  "symbol": "PSO",
  "side": "SELL",
  "order_type": "STOP_LOSS",
  "quantity": 1000,
  "stop_price": 184.50
}</textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Second Row of Orders -->
        <div class="grid-3">
            <!-- FOK Order -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/trade/order</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>ðŸ“¤ FOK Order</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('order-fok')">âŸ² Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('order-fok')">ðŸ“‹ Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="order-fok">{
  "client_id": "uhf_001",
  "account": "A12345678",
  "client_order_id": "ORD_20260216_004",
  "symbol": "PSO",
  "side": "BUY",
  "order_type": "FOK",
  "quantity": 10000,
  "price": 186.40
}</textarea>
                    </div>
                </div>
            </div>

            <!-- IOC Order -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/trade/order</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>ðŸ“¤ IOC Order</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('order-ioc')">âŸ² Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('order-ioc')">ðŸ“‹ Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="order-ioc">{
  "client_id": "uhf_001",
  "account": "A12345678",
  "client_order_id": "ORD_20260216_005",
  "symbol": "PSO",
  "side": "BUY",
  "order_type": "IOC",
  "quantity": 5000,
  "price": 186.45
}</textarea>
                    </div>
                </div>
            </div>

            <!-- Modify Order -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/trade/modify</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>ðŸ“¤ Modify Order</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('order-modify')">âŸ² Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('order-modify')">ðŸ“‹ Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="order-modify">{
  "order_id": "ORD1234567890",
  "price": 186.50,
  "quantity": 800
}</textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Order Management -->
        <div class="grid-3">
            <!-- Cancel Order -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/trade/cancel</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>ðŸ“¤ Cancel Order</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('order-cancel')">âŸ² Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('order-cancel')">ðŸ“‹ Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="order-cancel">{
  "order_id": "ORD1234567892"
}</textarea>
                    </div>
                </div>
            </div>

            <!-- Order History -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/trade/history</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>ðŸ“¤ Order History</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('order-history')">âŸ² Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('order-history')">ðŸ“‹ Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="order-history">{
  "account": "A12345678",
  "from_date": "2026-02-01",
  "to_date": "2026-02-16",
  "symbol": "PSO",
  "status": ["FILLED", "PARTIALLY_FILLED"]
}</textarea>
                    </div>
                </div>
            </div>

            <!-- Trade Confirmation -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/trade/confirmation</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>ðŸ“¤ Trade Confirmation</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('trade-confirm')">âŸ² Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('trade-confirm')">ðŸ“‹ Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="trade-confirm">{
  "execution_id": "EXEC20260216001"
}</textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Risk Management Section -->
        <div class="section-header" id="rms">
            <h2>ðŸ›¡ï¸ Risk Management</h2>
            <div class="version">Pre-Trade Validation</div>
        </div>

        <div class="endpoint-card">
            <div class="endpoint-header">
                <span class="method">POST</span>
                <span class="endpoint-url">/api/v1/rms/validate</span>
            </div>
            <div class="json-editor">
                <div class="json-header">
                    <span>ðŸ“¤ Request</span>
                    <div class="action-buttons">
                        <button class="action-btn" onclick="resetToDefault('rms-validate')">âŸ² Reset</button>
                        <button class="action-btn" onclick="copyToClipboard('rms-validate')">ðŸ“‹ Copy</button>
                    </div>
                </div>
                <div class="json-content">
                    <textarea id="rms-validate">{
  "account": "A12345678",
  "order": {
    "symbol": "PSO",
    "side": "BUY",
    "quantity": 10000,
    "price": 186.40,
    "value": 1864000.00
  },
  "checks": [
    "buying_power",
    "margin",
    "position_limit",
    "price_band"
  ]
}</textarea>
                </div>
            </div>
        </div>

        <!-- Account Section -->
        <div class="section-header" id="account">
            <h2>ðŸ‘¤ Account Portfolio</h2>
            <div class="version">POST /api/v1/account</div>
        </div>

        <div class="grid-2">
            <!-- Account Summary -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/account/summary</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>ðŸ“¤ Request</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('account-summary')">âŸ² Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('account-summary')">ðŸ“‹ Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="account-summary">{
  "account": "A12345678",
  "include": ["funds", "positions", "exposure"]
}</textarea>
                    </div>
                </div>

                <!-- Account Stats -->
                <div style="padding: 20px;">
                    <div class="stat-row">
                        <span>Cash Balance</span>
                        <span class="stat-value">2,500,000 PKR</span>
                    </div>
                    <div class="stat-row">
                        <span>Buying Power</span>
                        <span class="stat-value">2,100,000 PKR</span>
                    </div>
                    <div class="stat-row">
                        <span>Portfolio Value</span>
                        <span class="stat-value">8,450,000 PKR</span>
                    </div>
                    <div class="stat-row">
                        <span>Unrealized P&L</span>
                        <span class="stat-value" style="color: #0ECB81;">+250,000 PKR</span>
                    </div>
                </div>
            </div>

            <!-- Holdings -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/account/holdings</span>
                </div>
                <div class="json-editor">
                    <div class="json-header">
                        <span>ðŸ“¤ Request</span>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="resetToDefault('account-holdings')">âŸ² Reset</button>
                            <button class="action-btn" onclick="copyToClipboard('account-holdings')">ðŸ“‹ Copy</button>
                        </div>
                    </div>
                    <div class="json-content">
                        <textarea id="account-holdings">{
  "account": "A12345678",
  "include_pnl": true
}</textarea>
                    </div>
                </div>

                <!-- Holdings Table -->
                <table class="data-table">
                    <tr>
                        <th>Symbol</th>
                        <th>Qty</th>
                        <th>Avg</th>
                        <th>Current</th>
                        <th>P&L</th>
                    </tr>
                    <tr>
                        <td>PSO</td>
                        <td>5,000</td>
                        <td>182.50</td>
                        <td style="color: #0ECB81;">186.45</td>
                        <td style="color: #0ECB81;">+19,750</td>
                    </tr>
                    <tr>
                        <td>HUBC</td>
                        <td>10,000</td>
                        <td>108.50</td>
                        <td style="color: #0ECB81;">112.45</td>
                        <td style="color: #0ECB81;">+39,500</td>
                    </tr>
                    <tr>
                        <td>MARI</td>
                        <td>500</td>
                        <td>2,350.00</td>
                        <td style="color: #0ECB81;">2,450.00</td>
                        <td style="color: #0ECB81;">+50,000</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Market Overview Section -->
        <div class="section-header" id="overview">
            <h2>ðŸ“Š Market Overview</h2>
            <div class="version">Real-Time Data</div>
        </div>

        <!-- Top Gainers/Losers -->
        <div class="grid-2">
            <!-- Gainers -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/market/gainers</span>
                </div>
                <table class="data-table">
                    <tr>
                        <th>Symbol</th>
                        <th>Price</th>
                        <th>Change</th>
                        <th>%</th>
                        <th>Volume</th>
                    </tr>
                    <tr>
                        <td>MARI</td>
                        <td>2,450.00</td>
                        <td style="color: #0ECB81;">+85.50</td>
                        <td style="color: #0ECB81;">+3.62%</td>
                        <td>35,000</td>
                    </tr>
                    <tr>
                        <td>SYS</td>
                        <td>380.50</td>
                        <td style="color: #0ECB81;">+12.75</td>
                        <td style="color: #0ECB81;">+3.47%</td>
                        <td>280,000</td>
                    </tr>
                </table>
            </div>

            <!-- Losers -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method">POST</span>
                    <span class="endpoint-url">/api/v1/market/losers</span>
                </div>
                <table class="data-table">
                    <tr>
                        <th>Symbol</th>
                        <th>Price</th>
                        <th>Change</th>
                        <th>%</th>
                        <th>Volume</th>
                    </tr>
                    <tr>
                        <td>UBL</td>
                        <td>210.30</td>
                        <td style="color: #F6465D;">-5.20</td>
                        <td style="color: #F6465D;">-2.41%</td>
                        <td>320,000</td>
                    </tr>
                    <tr>
                        <td>HBL</td>
                        <td>115.40</td>
                        <td style="color: #F6465D;">-2.10</td>
                        <td style="color: #F6465D;">-1.79%</td>
                        <td>550,000</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Most Active -->
        <div class="endpoint-card">
            <div class="endpoint-header">
                <span class="method">POST</span>
                <span class="endpoint-url">/api/v1/market/most-active</span>
            </div>
            <table class="data-table">
                <tr>
                    <th>Symbol</th>
                    <th>Price</th>
                    <th>Volume</th>
                    <th>Value</th>
                    <th>Change</th>
                </tr>
                <tr>
                    <td>HUBC</td>
                    <td>112.45</td>
                    <td>2,450,000</td>
                    <td>275M</td>
                    <td style="color: #0ECB81;">+1.12%</td>
                </tr>
                <tr>
                    <td>PSO</td>
                    <td>186.45</td>
                    <td>2,100,000</td>
                    <td>391M</td>
                    <td style="color: #0ECB81;">+0.78%</td>
                </tr>
            </table>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>UHF Trading Platform API Documentation v1.0</p>
            <p>Complete POST-Based Integration for Pakistan Stock Exchange (PSX)</p>
            <p>Â© 2026 UHF. All rights reserved.</p>
            <p style="margin-top: 10px;">Real-time WebSocket | Live Data Streams | Binance-Style Interface</p>
        </div>
    </div>

    <script>
        // WebSocket state
        let wsConnected = true;
        let messageCounter = 0;
        let tickerInterval;
        let chartInterval;
        let priceInterval;

        // Default values for reset
        const defaultValues = {
            'last-trade': `{
  "symbol": "PSO",
  "market": "REGULAR",
  "timestamp": "2026-02-16T11:35:00+05:00"
}`,
            'market-depth': `{
  "symbol": "PSO",
  "levels": 10,
  "timestamp": "2026-02-16T11:35:00+05:00"
}`,
            'ws-subscribe': `{
  "action": "subscribe",
  "request_id": "sub_20260216_001",
  "channels": {
    "market": {
      "symbols": ["PSO", "HUBC", "MARI", "SYS"],
      "types": ["trade", "quote", "depth", "ohlc"]
    },
    "orders": {
      "accounts": ["A12345678"],
      "types": ["new", "fill", "cancel", "reject"]
    }
  },
  "depth_levels": 10,
  "snapshot": true
}`,
            'symbol-detail': `{
  "symbol": "PSO",
  "include": {
    "real_time": true,
    "depth": true,
    "indicators": true,
    "fundamentals": true,
    "corporate_actions": true
  },
  "depth_levels": 10,
  "timestamp": "2026-02-16T11:35:00+05:00"
}`,
            'order-limit': `{
  "client_id": "uhf_001",
  "account": "A12345678",
  "client_order_id": "ORD_20260216_001",
  "symbol": "PSO",
  "side": "BUY",
  "order_type": "LIMIT",
  "quantity": 1000,
  "price": 186.40,
  "time_in_force": "DAY"
}`,
            'order-market': `{
  "client_id": "uhf_001",
  "account": "A12345678",
  "client_order_id": "ORD_20260216_002",
  "symbol": "PSO",
  "side": "SELL",
  "order_type": "MARKET",
  "quantity": 500,
  "time_in_force": "IOC"
}`,
            'order-stop': `{
  "client_id": "uhf_001",
  "account": "A12345678",
  "client_order_id": "ORD_20260216_003",
  "symbol": "PSO",
  "side": "SELL",
  "order_type": "STOP_LOSS",
  "quantity": 1000,
  "stop_price": 184.50
}`,
            'order-fok': `{
  "client_id": "uhf_001",
  "account": "A12345678",
  "client_order_id": "ORD_20260216_004",
  "symbol": "PSO",
  "side": "BUY",
  "order_type": "FOK",
  "quantity": 10000,
  "price": 186.40
}`,
            'order-ioc': `{
  "client_id": "uhf_001",
  "account": "A12345678",
  "client_order_id": "ORD_20260216_005",
  "symbol": "PSO",
  "side": "BUY",
  "order_type": "IOC",
  "quantity": 5000,
  "price": 186.45
}`,
            'order-modify': `{
  "order_id": "ORD1234567890",
  "price": 186.50,
  "quantity": 800
}`,
            'order-cancel': `{
  "order_id": "ORD1234567892"
}`,
            'order-history': `{
  "account": "A12345678",
  "from_date": "2026-02-01",
  "to_date": "2026-02-16",
  "symbol": "PSO",
  "status": ["FILLED", "PARTIALLY_FILLED"]
}`,
            'trade-confirm': `{
  "execution_id": "EXEC20260216001"
}`,
            'rms-validate': `{
  "account": "A12345678",
  "order": {
    "symbol": "PSO",
    "side": "BUY",
    "quantity": 10000,
    "price": 186.40,
    "value": 1864000.00
  },
  "checks": [
    "buying_power",
    "margin",
    "position_limit",
    "price_band"
  ]
}`,
            'account-summary': `{
  "account": "A12345678",
  "include": ["funds", "positions", "exposure"]
}`,
            'account-holdings': `{
  "account": "A12345678",
  "include_pnl": true
}`
        };

        // Reset function
        function resetToDefault(elementId) {
            if (defaultValues[elementId]) {
                document.getElementById(elementId).value = defaultValues[elementId];
            }
        }

        // Copy function
        function copyToClipboard(elementId) {
            const textarea = document.getElementById(elementId);
            textarea.select();
            document.execCommand('copy');
            
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = 'âœ“ Copied!';
            setTimeout(() => {
                btn.textContent = originalText;
            }, 2000);
        }

        // Scroll to section
        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // WebSocket functions
        function connectWebSocket() {
            wsConnected = true;
            document.getElementById('wsLed').className = 'ws-led connected';
            document.getElementById('wsStatus').textContent = 'WEBSOCKET CONNECTED';
            addWSMessage('SYSTEM', 'WebSocket connected successfully');
        }

        function disconnectWebSocket() {
            wsConnected = false;
            document.getElementById('wsLed').className = 'ws-led';
            document.getElementById('wsStatus').textContent = 'WEBSOCKET DISCONNECTED';
            addWSMessage('SYSTEM', 'WebSocket disconnected');
        }

        function subscribeMarket() {
            addWSMessage('SUBSCRIBE', 'Subscribed to market data for PSO, HUBC, MARI, SYS');
        }

        function subscribeOrders() {
            addWSMessage('SUBSCRIBE', 'Subscribed to order updates for account A12345678');
        }

        function sendWebSocketMessage() {
            addWSMessage('SENT', 'WebSocket message sent');
        }

        function addWSMessage(type, data) {
            const container = document.getElementById('wsMessages');
            const now = new Date();
            const timeStr = now.toLocaleTimeString('en-US', { hour12: false });
            
            const msgDiv = document.createElement('div');
            msgDiv.className = 'ws-message';
            msgDiv.innerHTML = `
                <span class="timestamp">[${timeStr}]</span>
                <span class="type">${type}</span>
                <span class="data">${data}</span>
            `;
            
            container.insertBefore(msgDiv, container.firstChild);
            
            while (container.children.length > 50) {
                container.removeChild(container.lastChild);
            }
            
            messageCounter++;
            document.getElementById('msgRate').textContent = 24 + Math.floor(Math.random() * 10);
        }

        // Change interval
        function changeInterval(interval, btn) {
            document.querySelectorAll('.interval-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            addWSMessage('CHART', `Interval changed to ${interval}`);
        }

        // Live data updates
        function startLiveUpdates() {
            // Update ticker every 3 seconds
            tickerInterval = setInterval(() => {
                updateTicker();
                addWSMessage('TRADE', `PSO: ${(186 + Math.random() * 2).toFixed(2)} (${Math.floor(Math.random() * 2000)} shares)`);
            }, 3000);

            // Update chart every 5 seconds
            chartInterval = setInterval(() => {
                updateChart();
            }, 5000);

            // Update prices every 2 seconds
            priceInterval = setInterval(() => {
                updatePrices();
                updateOrderBook();
            }, 2000);
        }

        function updateTicker() {
            const ticker = document.getElementById('marketTicker');
            const symbols = ['PSO', 'HUBC', 'MARI', 'SYS', 'FFC', 'LUCK', 'UBL', 'ENGRO'];
            let html = '';
            
            symbols.forEach(symbol => {
                const price = (100 + Math.random() * 2000).toFixed(2);
                const change = (Math.random() * 4 - 1).toFixed(2);
                const changeClass = change >= 0 ? 'positive' : 'negative';
                const sign = change >= 0 ? '+' : '';
                
                html += `
                    <div class="ticker-item">
                        <span class="ticker-symbol">${symbol}</span>
                        <span class="ticker-price">${price}</span>
                        <span class="ticker-change ${changeClass}">${sign}${change}%</span>
                    </div>
                `;
            });
            
            ticker.innerHTML = html;
        }

        function updateChart() {
            const candleChart = document.getElementById('candleChart');
            const volumeBars = document.getElementById('volumeBars');
            
            if (candleChart) {
                candleChart.innerHTML = '';
                const basePrice = 185;
                for (let i = 0; i < 50; i++) {
                    const candle = document.createElement('div');
                    const isRed = Math.random() > 0.5;
                    candle.className = 'candle' + (isRed ? ' red' : '');
                    
                    const height = 30 + Math.random() * 150;
                    candle.style.height = height + 'px';
                    candle.style.left = (i * 12) + 'px';
                    candle.style.bottom = '50px';
                    candle.style.width = '8px';
                    candle.style.position = 'absolute';
                    
                    const price = basePrice + (i - 25) * 0.1 + Math.random() * 2;
                    candle.setAttribute('data-tooltip', `Price: ${price.toFixed(2)}`);
                    candle.classList.add('tooltip');
                    
                    candleChart.appendChild(candle);
                }
            }

            if (volumeBars) {
                volumeBars.innerHTML = '';
                for (let i = 0; i < 50; i++) {
                    const bar = document.createElement('div');
                    bar.className = 'volume-bar';
                    const height = 20 + Math.random() * 40;
                    bar.style.height = height + 'px';
                    bar.setAttribute('data-tooltip', `Volume: ${Math.floor(100000 + Math.random() * 900000)}`);
                    bar.classList.add('tooltip');
                    volumeBars.appendChild(bar);
                }
            }
        }

        function updatePrices() {
            const price = 186 + Math.random() * 2;
            const prevPrice = parseFloat(document.getElementById('currentPrice').textContent);
            const change = price - prevPrice;
            const changePercent = (change / prevPrice * 100).toFixed(2);
            
            document.getElementById('currentPrice').textContent = price.toFixed(2);
            document.getElementById('priceChange').textContent = (change > 0 ? '+' : '') + change.toFixed(2) + ' (' + (change > 0 ? '+' : '') + changePercent + '%)';
            document.getElementById('priceChange').className = 'price-change ' + (change >= 0 ? 'positive' : 'negative');
            
            document.getElementById('high24h').textContent = (187.50 + Math.random() * 0.5).toFixed(2);
            document.getElementById('low24h').textContent = (184.80 - Math.random() * 0.5).toFixed(2);
            document.getElementById('volume24h').textContent = (2.45 + Math.random() * 0.2).toFixed(2) + 'M';
            document.getElementById('turnover').textContent = (456.2 + Math.random() * 10).toFixed(1) + 'M';
            document.getElementById('vwap').textContent = (186.12 + Math.random() * 0.5).toFixed(2);
            document.getElementById('trades').textContent = (3245 + Math.floor(Math.random() * 100)).toLocaleString();
        }

        function updateOrderBook() {
            const bidsContainer = document.getElementById('orderBookBids');
            const asksContainer = document.getElementById('orderBookAsks');
            
            if (bidsContainer) {
                bidsContainer.innerHTML = '';
                for (let i = 0; i < 10; i++) {
                    const price = (186.40 - i * 0.05 - Math.random() * 0.02).toFixed(2);
                    const size = Math.floor(1000 + Math.random() * 9000);
                    const total = (price * size / 1000000).toFixed(2);
                    const row = document.createElement('div');
                    row.className = 'order-book-row';
                    row.innerHTML = `
                        <span class="bid-price">${price}</span>
                        <span>${size.toLocaleString()}</span>
                        <span>${total}</span>
                    `;
                    bidsContainer.appendChild(row);
                }
            }

            if (asksContainer) {
                asksContainer.innerHTML = '';
                for (let i = 1; i <= 10; i++) {
                    const price = (186.45 + i * 0.05 + Math.random() * 0.02).toFixed(2);
                    const size = Math.floor(800 + Math.random() * 8000);
                    const total = (price * size / 1000000).toFixed(2);
                    const row = document.createElement('div');
                    row.className = 'order-book-row';
                    row.innerHTML = `
                        <span class="ask-price">${price}</span>
                        <span>${size.toLocaleString()}</span>
                        <span>${total}</span>
                    `;
                    asksContainer.appendChild(row);
                }
            }
        }

        // Initialize
        window.onload = function() {
            connectWebSocket();
            updateChart();
            updateOrderBook();
            updateTicker();
            startLiveUpdates();
            
            setInterval(() => {
                document.getElementById('wsLatency').textContent = (10 + Math.floor(Math.random() * 20)) + 'ms';
            }, 3000);
        };
    </script>
</body>
</html>